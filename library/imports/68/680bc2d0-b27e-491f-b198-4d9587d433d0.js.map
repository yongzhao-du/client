{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;;AAErB,cAAU,EAAE;;AAER,mBAAW,EAAE;AACT,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,OAAO;SACnB;;AAED,kBAAU,EAAE;AACR,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,OAAO;SACnB;;AAED,gBAAQ,EAAE;AACN,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,KAAK;SACjB;;AAED,0BAAkB,EAAE;AAChB,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,IAAI;SAChB;;AAED,yBAAiB,EAAE;AACf,uBAAS,IAAI;AACb,gBAAI,EAAE,EAAE,CAAC,UAAU;SACtB;KACJ;;AAED,UAAM,EAAE,kBAAY;AAChB,cAAM,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;;AAE7B,YAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AAClC,YAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,KAAK,CAAC;;AAEvC,YAAI,CAAC,aAAa,EAAE,CAAC;AACrB,YAAI,CAAC,QAAQ,EAAE,CAAC;KACnB;;AAED,aAAS,EAAE,qBAAY;AACnB,YAAI,CAAC,WAAW,EAAE,CAAC;KACtB;;AAED,YAAQ,EAAE,oBAAY;AAClB,YAAI,CAAC,aAAa,GAAG,MAAM,CAAC,mBAAmB,CAAC,eAAe,CAAC,SAAS,CAAC,eAAe,EAAE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KAC7H;;AAED,eAAW,EAAE,uBAAY;AACrB,cAAM,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;AAClE,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;KAC7B;;AAED,iBAAa,EAAE,yBAAY;AACvB,UAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;AAC3D,UAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;KAC9D;;AAED,iBAAa,EAAE,yBAAY;AACvB,YAAI,CAAC,aAAa,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;AAClE,YAAI,CAAC,YAAY,GAAG,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;AAClE,YAAI,CAAC,WAAW,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC;AAC7C,YAAI,CAAC,UAAU,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC;KAC9C;;AAED,kBAAc,EAAE,wBAAU,IAAI,EAAE;AAC5B,YAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,iBAAiB,EAAE,CAAC;AACnD,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,IAAI,GAAG,EAAE,CAAC;AACjB,aAAK,IAAI,CAAC,IAAI,IAAI,EAAE;AAChB,gBAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACb,cAAE,CAAC,MAAM,CAAC,OAAO,CAAC,mCAAmC,EAAE,EAAE,CAAC,MAAM,EAAE,UAAU,GAAG,EAAE,MAAM,EAAE;AACrF,oBAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAClC,oBAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;AAC3C,oBAAI,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;AACrE,oBAAI,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;AACvB,qBAAK,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;AACzB,sBAAM,CAAC,EAAE,CAAC,UAAU,EAAE,YAAY;AAC9B,wBAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,KAAK,CAAC;AACvC,wBAAI,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;AAC/B,2BAAO,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;iBAChE,CAAC,CAAC;AACH,oBAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;aAEjD,CAAC,CAAC;SACN;KACD;;AAED,iBAAa,EAAE,uBAAU,SAAS,EAAE,IAAI,EAAE;AACtC,YAAI,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE;AAChB,cAAE,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;AACxC,gBAAI,CAAC,aAAa,EAAE,CAAC;AACrB,oBAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC9B,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;AAC5B,cAAE,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;AACxB,gBAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACzC,gBAAI,CAAC,kBAAkB,CAAC,MAAM,GAAG,IAAI,CAAC;AACtC,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;SACrC,MAAM;AACH,cAAE,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;AACxC,gBAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC;AAC5D,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpC;KACJ;;AAED,sBAAkB,EAAE,8BAAY;AAC5B,gBAAQ,CAAC,eAAe,EAAE,CAAC;AAC3B,YAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;AACtC,YAAI,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AACpC,YAAI,OAAO,CAAC,MAAM,IAAI,CAAC,EAAE;AACrB,gBAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC;AACvD,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACjC,mBAAO;SACV;AACD,YAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;AACpB,gBAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC;AACtD,gBAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACjC,mBAAO;SACV;;AAED,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;AAC7C,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;AAC3C,eAAO,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;KAChE;;AAED,wBAAoB,EAAE,gCAAY;AAC9B,gBAAQ,CAAC,eAAe,EAAE,CAAC;AAC3B,YAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE;AACnC,gBAAI,SAAS,GAAG,qCAAqC,CAAC;AACtD,gBAAI,UAAU,GAAG,eAAe,CAAC;AACjC,gBAAI,eAAe,GAAG,KAAK,CAAC;AAC5B,eAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,EAAE,eAAe,CAAC,CAAC;SAC3E;KACJ;;AAED,uBAAmB,EAAE,+BAAY;AAC7B,gBAAQ,CAAC,eAAe,EAAE,CAAC;AAC3B,YAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,IAAI,EAAE,CAAC,GAAG,CAAC,OAAO,EAAE;AACnC,gBAAI,SAAS,GAAG,qCAAqC,CAAC;AACtD,gBAAI,UAAU,GAAG,eAAe,CAAC;AACjC,gBAAI,eAAe,GAAG,KAAK,CAAC;AAC5B,eAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,EAAE,eAAe,CAAC,CAAC;SAC3E;KACJ;;CAEJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        accountEdit: {\r\n            default: null,\r\n            type: cc.EditBox,\r\n        },\r\n        \r\n        passwdEdit: {\r\n            default: null,\r\n            type: cc.EditBox,\r\n        },\r\n        \r\n        msgLabel: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        \r\n        accountSelectPanel: {\r\n            default: null,\r\n            type: cc.Node,\r\n        },\r\n        \r\n        accountScrollView: {\r\n            default: null,\r\n            type: cc.ScrollView,\r\n        },\r\n    },\r\n\r\n    onLoad: function () {\r\n        Global.accountModule.reset();\r\n\r\n        this.msgLabel.node.active = false;\r\n        this.accountSelectPanel.active = false;\r\n        \r\n        this.readLoginInfo();\r\n        this.addEvent();\r\n    },\r\n    \r\n    onDestroy: function () {\r\n        this.removeEvent();\r\n    },\r\n    \r\n    addEvent: function () {\r\n        this._loginHandler = Global.gameEventDispatcher.addEventHandler(GameEvent.ON_LOGIN_RESULT, this.onLoginResult.bind(this));\r\n    },\r\n    \r\n    removeEvent: function () {\r\n        Global.gameEventDispatcher.removeEventHandler(this._loginHandler);\r\n        this._loginHandler = null;\r\n    },\r\n    \r\n    saveLoginInfo: function () {\r\n        cc.sys.localStorage.setItem('account', this._loginAccount);\r\n        cc.sys.localStorage.setItem('password', this._loginPasswd);\r\n    },\r\n    \r\n    readLoginInfo: function () {\r\n        this._loginAccount = cc.sys.localStorage.getItem('account') || '';\r\n        this._loginPasswd = cc.sys.localStorage.getItem('password') || '';\r\n        this.accountEdit.string = this._loginAccount;\r\n        this.passwdEdit.string = this._loginPasswd;\r\n    },\r\n    \r\n    setAccountList: function (list) {\r\n        this.accountScrollView.content.removeAllChildren();\r\n        var self = this;\r\n        var keys = [];\r\n    \tfor (var k in list) {\r\n    \t    keys.push(k);\r\n    \t    cc.loader.loadRes('prefab/ui/components/account_item', cc.Prefab, function (err, prefab) {\r\n    \t        var node = cc.instantiate(prefab);\r\n    \t        var button = node.getChildByName('button');\r\n    \t        var label = node.getChildByName('name_label').getComponent(cc.Label);\r\n    \t        var key = keys.shift();\r\n    \t        label.string = list[key];\r\n    \t        button.on('touchend', function () {\r\n    \t            self.accountSelectPanel.active = false;\r\n    \t            self._loginAccount = list[key];\r\n    \t            GameRpc.Clt2Srv.login(self._loginAccount, self._loginPasswd);\r\n    \t        });\r\n    \t        self.accountScrollView.content.addChild(node);\r\n    \t        \r\n    \t    });\r\n    \t}\r\n    },\r\n    \r\n    onLoginResult: function (eventType, data) {\r\n        if (data.code == 1) {\r\n            cc.log(\"Login Success\", data.data.token)\r\n            this.saveLoginInfo();\r\n            GameUtil.loadScene('game');\r\n        } else if (data.data.gaiNumber) {\r\n            cc.log(\"Multi Account\");\r\n            this.setAccountList(data.data.gaiNumber);\r\n            this.accountSelectPanel.active = true;\r\n            this.msgLabel.node.active = false;\r\n        } else {\r\n            cc.log(\"Account or Password incorrect\");\r\n            this.msgLabel.string = GameLang.t('accout_or_passwd_error');\r\n            this.msgLabel.node.active = true;\r\n        }\r\n    },\r\n\r\n    onLoginButtonClick: function () {\r\n        GameUtil.playButtonSound();\r\n        var account = this.accountEdit.string;\r\n        var passwd = this.passwdEdit.string;\r\n        if (account.length <= 0) {\r\n            this.msgLabel.string = GameLang.t('account_not_empty');\r\n            this.msgLabel.node.active = true;\r\n            return;\r\n        }\r\n        if (passwd.length <= 0) {\r\n            this.msgLabel.string = GameLang.t('passwd_not_empty');\r\n            this.msgLabel.node.active = true;\r\n            return;\r\n        }\r\n        \r\n        this._loginAccount = this.accountEdit.string;\r\n        this._loginPasswd = this.passwdEdit.string;\r\n        GameRpc.Clt2Srv.login(this._loginAccount, this._loginPasswd);\r\n    },\r\n    \r\n    onRegisteButtonClick: function () {\r\n        GameUtil.playButtonSound();\r\n        if (cc.sys.platform == cc.sys.ANDROID) {\r\n            var className = \"org/cocos2dx/javascript/AppActivity\";\r\n            var methodName = \"quickRegister\";\r\n            var methodSignature = \"()V\";\r\n            jsb.reflection.callStaticMethod(className, methodName, methodSignature);\r\n        }\r\n    },\r\n    \r\n    onForgetButtonClick: function () {\r\n        GameUtil.playButtonSound();\r\n        if (cc.sys.platform == cc.sys.ANDROID) {\r\n            var className = \"org/cocos2dx/javascript/AppActivity\";\r\n            var methodName = \"quickRegister\";\r\n            var methodSignature = \"()V\";\r\n            jsb.reflection.callStaticMethod(className, methodName, methodSignature);\r\n        }\r\n    },\r\n    \r\n});\r\n"
  ]
}