{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC1C,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAC1C,IAAI,cAAc,GAAG,WAAW,CAAC,cAAc,CAAC;AAChD,IAAI,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC;AAC1C,IAAI,UAAU,GAAG,WAAW,CAAC,UAAU,CAAC;AACxC,IAAI,eAAe,GAAG,WAAW,CAAC,eAAe,CAAC;AAClD,IAAI,kBAAkB,GAAG,WAAW,CAAC,kBAAkB,CAAC;AACxD,IAAI,gBAAgB,GAAG,WAAW,CAAC,gBAAgB,CAAC;AACpD,IAAI,UAAU,GAAG,WAAW,CAAC,UAAU,CAAC;;AAExC,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;;AAErB,cAAU,EAAE;AACR,iBAAS,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;;AAE5B,oBAAY,EAAE;AACV,eAAG,EAAE,aAAU,OAAO,EAAE;AACpB,oBAAI,CAAC,aAAa,GAAG,OAAO,CAAC;aAChC;;AAED,eAAG,EAAE,eAAY;AACb,uBAAO,IAAI,CAAC,aAAa,CAAC;aAC7B;SACJ;;AAED,WAAG,EAAE;AACD,eAAG,EAAE,aAAU,GAAG,EAAE;AAChB,oBAAI,CAAC,GAAG,EAAE;AACN,wBAAI,CAAC,IAAI,GAAG,IAAI,CAAC;iBACpB,MAAM;AACH,wBAAI,CAAC,IAAI,GAAG,GAAG,CAAC;AAChB,wBAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBACjC;aACJ;;AAED,eAAG,EAAE,eAAY;AACb,uBAAO,IAAI,CAAC,IAAI,CAAC;aACpB;SACJ;KACJ;;;AAGD,UAAM,EAAE,kBAAY;AAChB,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;AAChD,YAAI,CAAC,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;AAC9D,YAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AAChD,YAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;AACjD,YAAI,CAAC,IAAI,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EACrD,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAClC,GAAG,CAAC,IAAI,CAAC,KAAK,EACd,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;AAErB,YAAI,CAAC,UAAU,GAAG,IAAI,CAAC;;AAEvB,YAAI,CAAC,WAAW,GAAG,IAAI,CAAC;AACxB,YAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;;AAE5B,YAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACrB,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AACzB,YAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,gBAAgB,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACtC,YAAI,CAAC,kBAAkB,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACxC,YAAI,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACjC,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;;AAE7B,YAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,YAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAC9B,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AACxB,YAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;AAC3B,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAC7B,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAI,CAAC,aAAa,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;;AAE9C,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AACxB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;AACtB,YAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,YAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,YAAI,CAAC,aAAa,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACnC,YAAI,CAAC,cAAc,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;;AAEpC,YAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;;;AAGxB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;;;AAGtB,YAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;;;AAG1B,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;;AAEzB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;;AAEtB,YAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,YAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,YAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;AAC9B,YAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;;AAEjD,YAAI,CAAC,MAAM,GAAG,IAAI,CAAC;AACnB,YAAI,CAAC,GAAG,GAAG,IAAI,CAAC;;AAEhB,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;KAC1D;;AAED,SAAK,EAAE,iBAAY;AACf,YAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACrB,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AACzB,YAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC;AACtD,YAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC1D,YAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5C,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;;AAE7B,YAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,YAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;AAC9B,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AACxB,YAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC9D,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAC7B,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAChD,gBAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;SAChC;;AAED,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AACxB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;AACtB,YAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,YAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,YAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC;AAChD,YAAI,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;AAElD,YAAI,CAAC,WAAW,GAAG,KAAK,CAAC;AACzB,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;;;AAGxB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;;;AAGtB,YAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;;;AAG1B,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;;AAEzB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;;AAEtB,YAAI,CAAC,cAAc,GAAG,KAAK,CAAC;AAC5B,YAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,YAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;;AAEjD,YAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;;AAEvB,YAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACrD;;AAED,QAAI,EAAE,gBAAY;AACd,YAAI,CAAC,KAAK,EAAE,CAAC;AACb,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC;AACjH,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACrD;;AAED,oBAAgB,EAAE,0BAAU,CAAC,EAAE,CAAC,EAAE;AAC9B,YAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;AAChB,YAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;KACnB;;AAED,gBAAY,EAAE,sBAAU,GAAG,EAAE;AACzB,YAAI,IAAI,CAAC,UAAU,KAAK,GAAG,IACxB,GAAG,IAAI,cAAc,CAAC,IAAI,IAC1B,GAAG,IAAI,cAAc,CAAC,KAAK,EAC1B,OAAO;AACX,YAAI,CAAC,UAAU,GAAG,GAAG,CAAC;AACtB,YAAI,CAAC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;KAC1B;;AAED,gBAAY,EAAE,wBAAY;AACtB,eAAO,IAAI,CAAC,UAAU,CAAC;KAC1B;;AAED,aAAS,EAAE,mBAAU,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE;AAC3C,YAAI,UAAU,GAAG,IAAI,CAAC;AACtB,gBAAQ,MAAM;AACV,iBAAK,WAAW,CAAC,MAAM;AACnB,0BAAU,GAAG,UAAU,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;AACxC,sBAAM;AAAA,AACV;AACI,0BAAU,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAChC,sBAAM;AAAA,SACb;AACD,YAAI,CAAC,WAAW,GAAG,MAAM,CAAC;AAC1B,YAAI,CAAC,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;AACtC,YAAI,CAAC,IAAI,IAAI,IAAI,KAAK,CAAC,EACnB,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,QAAQ,CAAC,KAElG,IAAI,CAAC,kBAAkB,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;AACjE,YAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;KAC1B;;AAED,SAAK,EAAE,eAAU,KAAK,EAAE,GAAG,EAAE;AACzB,YAAI,KAAK,GAAG,CAAC,EACT,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,KAAK,GAAG,CAAC,EACT,KAAK,GAAG,CAAC,CAAC;AACd,YAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACpB,YAAI,CAAC,GAAG,GAAG,KAAK,CAAC;KACpB;;AAED,SAAK,EAAE,iBAAY;AACf,eAAO,IAAI,CAAC,GAAG,CAAC;KACnB;;AAED,gBAAY,EAAE,wBAAY;AACtB,YAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC3D,YAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC,IAAI,CAClD,IAAI,CAAC,IAAI,CAAC,CAAC,EACX,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB,YAAI,IAAI,CAAC,UAAU,IAAI,cAAc,CAAC,IAAI,EACtC,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;AAChC,eAAO,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC7E;;AAED,UAAM,EAAE,kBAAY;AAChB,eAAO,IAAI,CAAC,OAAO,CAAC;KACvB;;AAED,UAAM,EAAE,kBAAY;AAChB,YAAI,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,OAAO,EACjC,OAAO;AACX,YAAI,CAAC,WAAW,GAAG,IAAI,CAAC;KAC3B;;AAED,eAAW,EAAE,uBAAY;AACrB,YAAI,CAAC,KAAK,EAAE,CAAC;AACb,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;AACzH,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AACpD,YAAI,CAAC,gBAAgB,EAAE,CAAC;KAC3B;;AAED,aAAS,EAAE,qBAAY;AACnB,YAAI,CAAC,OAAO,GAAG,KAAK,CAAC;AACrB,YAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;KAC3B;;AAED,aAAS,EAAE,mBAAU,IAAI,EAAE,GAAG,EAAE;AAC5B,YAAI,CAAC,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC;AACvD,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;KACzC;;AAED,WAAO,EAAE,mBAAY;AACjB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;KACzB;;AAED,cAAU,EAAE,oBAAU,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE;AAChD,YAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACrB,YAAI,CAAC,eAAe,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;AACnD,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC;AACpD,YAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACtC,YAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;AACxC,YAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAI,CAAC,mBAAmB,GAAG,AAAC,CAAC,GAAG,SAAS,IAAK,OAAO,GAAG,OAAO,CAAA,AAAC,CAAC;AACjE,YAAI,CAAC,WAAW,CAAC,CAAC,GAAG,QAAQ,IAAI,OAAO,GAAG,CAAC,CAAA,AAAC,CAAC;AAC9C,YAAI,CAAC,WAAW,CAAC,CAAC,GAAG,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;KAC3D;;AAED,YAAQ,EAAE,oBAAY;AAClB,YAAI,CAAC,WAAW,GAAG,CAAC,CAAC;AACrB,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AACzB,YAAI,CAAC,aAAa,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5B,YAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC5B,YAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9B,YAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAC7B,UAAE,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,SAAS,EAAE;AACjE,cAAE,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;SAC/C,CAAC,CAAA;KACL;;AAED,iBAAa,EAAE,yBAAY;AACvB,YAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC;AAC7H,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACzD;;AAED,eAAW,EAAE,uBAAY;AACrB,YAAI,CAAC,gBAAgB,GAAG,CAAC,CAAC;KAC7B;;AAED,gBAAY,EAAE,wBAAY;AACtB,YAAI,CAAC,aAAa,GAAG,IAAI,CAAC;AAC1B,YAAI,CAAC,eAAe,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,QAAQ,EAAE,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC;AACvH,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KACxD;;AAED,cAAU,EAAE,sBAAY;AACpB,YAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,YAAI,CAAC,eAAe,GAAG,CAAC,CAAC;AACzB,YAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;KACpD;;AAED,UAAM,EAAE,gBAAU,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,GAAG,EAAE;AAC/B,YAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,YAAI,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA,GAAI,IAAI,CAAC;AACtC,YAAI,MAAM,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA,GAAI,IAAI,CAAC;AACtC,YAAI,CAAC,SAAS,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;AACtC,YAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AACvB,YAAI,CAAC,cAAc,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACxC,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;KAClD;;AAED,aAAS,EAAE,mBAAU,MAAM,EAAE,MAAM,EAAE,UAAU,EAAE;AAC7C,YAAI,CAAC,eAAe,GAAG,UAAU,CAAC;AAClC,YAAI,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;AAClD,YAAI,CAAC,cAAc,CAAC,CAAC,GAAG,MAAM,CAAC;AAC/B,YAAI,CAAC,cAAc,CAAC,CAAC,GAAG,MAAM,CAAC;AAC/B,YAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AACnC,YAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACtC;;AAED,YAAQ,EAAE,oBAAY;AAClB,YAAI,CAAC,cAAc,GAAG,CAAC,CAAC;AACxB,YAAI,CAAC,YAAY,GAAG,CAAC,CAAC;AACtB,YAAI,CAAC,eAAe,GAAG,KAAK,CAAC;AAC7B,YAAI,CAAC,cAAc,GAAG,IAAI,CAAC;AAC3B,YAAI,CAAC,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;AAClD,YAAI,CAAC,aAAa,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC;KACnD;;AAED,eAAW,EAAE,qBAAU,WAAW,EAAE,YAAY,EAAE,GAAG,EAAE;AACnD,YAAI,CAAC,UAAU,EAAE,CAAC;AAClB,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAI,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,EACxC,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;AAC7C,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,CAAC,EAAE,EAAE;AACnC,gBAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;SAC1C;AACD,YAAI,CAAC,iBAAiB,GAAG,YAAY,CAAA;AACrC,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;KAC3C;;AAED,cAAU,EAAE,sBAAY;AACpB,YAAI,CAAC,YAAY,GAAG,KAAK,CAAC;AAC1B,YAAI,CAAC,YAAY,EAAE,CAAC;KACvB;;AAED,iBAAa,EAAE,uBAAU,OAAO,EAAE,GAAG,EAAE;AACnC,YAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,CAAC;AAClC,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,MAAM,EAAE,GAAG,EAAE,OAAO,CAAC,WAAW,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;AAC3E,YAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,kBAAkB,CAAC;AACnD,YAAI,CAAC,YAAY,GAAG,OAAO,CAAC;KAC/B;;AAED,uBAAmB,EAAE,6BAAU,OAAO,EAAE;AACpC,YAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC9D,YAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;AAC3C,YAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC;AACtC,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE;AAC5B,gBAAI,SAAS,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;AACtC,gBAAI,SAAS,GAAG;AACZ,yBAAS,EAAE,SAAS;AACpB,2BAAW,EAAE,QAAQ,GAAG,SAAS,CAAC,QAAQ;AAC1C,uBAAO,EAAE,OAAO;AAChB,qBAAK,EAAE,KAAK;aACf,CAAC;AACF,gBAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACzC;KACJ;;AAED,gBAAY,EAAE,wBAAY;AACtB,YAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC9D,YAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;AAC7B,YAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;AAC3B,YAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;KAC9B;;AAED,kBAAc,EAAE,0BAAY;AACxB,YAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;KAC1D;;AAED,eAAW,EAAE,qBAAU,QAAQ,EAAE;AAC7B,YAAI,QAAQ,IAAI,IAAI,CAAC,YAAY,EAC7B,IAAI,CAAC,OAAO,EAAE,CAAC;KACtB;;AAED,gBAAY,EAAE,sBAAU,QAAQ,EAAE;AAC9B,gBAAQ,IAAI,CAAC,WAAW;;AAEpB,iBAAK,CAAC;AACF,oBAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,QAAQ,EAAE;AAC3C,wBAAI,CAAC,SAAS,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBACzD;AACD,oBAAI,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC;AACnD,oBAAI,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;AAChC,gCAAY,GAAG,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC;AACzD,wBAAI,CAAC,WAAW,EAAE,CAAC;iBACtB;AACD,oBAAI,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;AACpE,oBAAI,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC,mBAAmB,GAAG,YAAY,GAAG,YAAY,GAAG,CAAC,CAAA;AAChI,oBAAI,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9E,oBAAI,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;AACxB,oBAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,oBAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;AACtC,oBAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;AAC9B,sBAAM;;AAAA;AAGV,iBAAK,CAAC;AACF,oBAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,SAAS,EAAE;AAC5C,wBAAI,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC1D;AACD,oBAAI,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC;AACjD,oBAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;AACtE,oBAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAG,AAAC,IAAI,IAAI,YAAY,GAAG,YAAY,CAAA,AAAC,GAAE,CAAC,CAAC;AAC7E,oBAAI,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC9E,oBAAI,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC,EAAE,CAAC;AACxB,oBAAI,CAAC,IAAI,CAAC,EAAE;AACR,qBAAC,GAAG,CAAC,CAAC;AACN,wBAAI,CAAC,WAAW,EAAE,CAAC;iBACtB;AACD,oBAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,sBAAM;;AAAA;AAGV,iBAAK,CAAC;AACF,oBAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,oBAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC;AAClB,oBAAI,CAAC,aAAa,EAAE,CAAC;AACrB,sBAAM;AAAA,SACb;AACD,YAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACnD;;AAED,mBAAe,EAAE,yBAAU,QAAQ,EAAE;AACjC,YAAI,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EACjC,IAAI,CAAC,WAAW,EAAE,CAAC;KAC1B;;AAED,kBAAc,EAAE,wBAAU,QAAQ,EAAE;AAChC,YAAI,QAAQ,IAAI,IAAI,CAAC,eAAe,EAChC,IAAI,CAAC,UAAU,EAAE,CAAC;KACzB;;AAED,iBAAa,EAAE,uBAAU,QAAQ,EAAE;AAC/B,YAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC;AAChC,YAAI,OAAO,EAAE;AACT,gBAAI,QAAQ,IAAI,IAAI,CAAC,mBAAmB,EAAE;AACtC,oBAAI,CAAC,YAAY,GAAG,IAAI,CAAC;AACzB,oBAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;aAChC;SACJ,MAAM,IAAI,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;AACxC,gBAAI,CAAC,iBAAiB,EAAE,CAAC;AACzB,gBAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC3E,oBAAI,CAAC,UAAU,EAAE,CAAC;aACrB,MAAM;AACH,uBAAO,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;AACpD,oBAAI,CAAC,aAAa,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;aAChD;SACJ;KACJ;;AAED,eAAW,EAAE,qBAAU,QAAQ,EAAE;AAC7B,YAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,GAAG,EAAE;AACtC,gBAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SACpD;AACD,YAAI,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC;AACxB,YAAI,YAAY,GAAG,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC;AAClD,YAAI,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AACxD,wBAAY,GAAG,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC;AACvD,eAAG,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;AAC9B,eAAG,CAAC,CAAC,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;AAC9B,gBAAI,CAAC,QAAQ,EAAE,CAAC;SACnB,MAAM;AACH,eAAG,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;AACpE,eAAG,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,GAAG,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;SACvE;AACD,YAAI,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;AAC5E,YAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC;KAC/C;;;AAGD,gCAA4B,EAAE,sCAAU,QAAQ,EAAE;AAC9C,YAAI,IAAI,CAAC,cAAc,GAAG,CAAC,IACxB,IAAI,CAAC,YAAY,GAAG,CAAC,IACrB,IAAI,CAAC,eAAe,GAAG,CAAC,IACxB,IAAI,CAAC,eAAe,GAAG,CAAC,IACxB,IAAI,CAAC,gBAAgB,GAAG,CAAC,IACzB,IAAI,CAAC,eAAe,GAAG,CAAC,IACxB,IAAI,CAAC,YAAY,GAAG,CAAC,EACpB,OAAO,kBAAkB,CAAC,aAAa,CAAC;;AAE5C,gBAAQ,IAAI,CAAC,WAAW;AACpB,iBAAK,WAAW,CAAC,IAAI,CAAC;AACtB,iBAAK,WAAW,CAAC,GAAG;AAChB,uBAAO,kBAAkB,CAAC,WAAW,CAAC;AAAA,AAC1C;AACI,sBAAM;AAAA,SACb;;AAED,YAAI,QAAQ,IAAI,IAAI,CAAC,kBAAkB,EACnC,OAAO,kBAAkB,CAAC,WAAW,CAAC,KAEtC,OAAO,kBAAkB,CAAC,SAAS,CAAC;KAC3C;;AAED,cAAU,EAAE,sBAAY;AACpB,YAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;;SAE5B,MACI,IAAI,IAAI,CAAC,WAAW,KAAK,WAAW,CAAC,IAAI,EAAE;AACrD,oBAAI,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;aAC5C;KACJ;;AAED,aAAS,EAAE,qBAAY;AACnB,eAAO,KAAK,CAAC;KAChB;;AAED,iBAAa,EAAE,yBAAY;AACvB,eAAO,IAAI,CAAC;KACf;;AAED,UAAM,EAAE,gBAAU,EAAE,EAAE;AAClB,YAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;;AAE3C,YAAI,IAAI,CAAC,YAAY,GAAG,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,YAAY,EAAE;AACxD,gBAAI,CAAC,aAAa,GAAG,KAAK,CAAC;AAC3B,gBAAI,CAAC,YAAY,GAAG,CAAC,CAAC;SACzB;;AAED,YAAI,IAAI,CAAC,cAAc,GAAG,CAAC,IAAI,QAAQ,IAAI,IAAI,CAAC,cAAc,EAAE;AAC5D,gBAAI,CAAC,SAAS,EAAE,CAAC;SACpB;;AAED,YAAI,IAAI,CAAC,eAAe,GAAG,CAAC,EAAE;AAC1B,gBAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;SAC/B;;AAED,YAAI,IAAI,CAAC,YAAY,GAAG,CAAC,EAAE;AACvB,gBAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAC9B;;AAED,YAAI,IAAI,CAAC,gBAAgB,GAAG,CAAC,EAAE;AAC3B,gBAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;SAClC;;AAED,YAAI,IAAI,CAAC,eAAe,GAAG,CAAC,EAAE;AAC1B,gBAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;SACjC;;;AAGD,YAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;;AAErC,YAAI,IAAI,CAAC,YAAY,EAAE;AACnB,gBAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;SAChC;;AAED,YAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EAAE;AACzB,gBAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;SAC9B;;AAED,YAAI,YAAY,GAAG,IAAI,CAAC,4BAA4B,CAAC,QAAQ,CAAC,CAAC;AAC/D,gBAAQ,YAAY;;AAEhB,iBAAK,kBAAkB,CAAC,WAAW;AAC/B,oBAAI,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,EAAE;;iBAE5C;AACD,oBAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,SAAS,EAAE;AAC3C,wBAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;iBACxC,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,QAAQ,EAAE;AACjD,wBAAI,IAAI,CAAC,OAAO,EAAE;AACd,4BAAI,IAAI,CAAC,WAAW,EAAE;AAClB,gCAAI,CAAC,WAAW,EAAE,CAAC;yBACtB,MAAM,IAAI,IAAI,CAAC,aAAa,EAAE,IAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,SAAS,EAAE;AAC1E,gCAAI,CAAC,cAAc,EAAE,CAAC;yBACzB;qBACJ,MAAM;AACH,4BAAI,CAAC,YAAY,EAAE,CAAC;qBACvB;iBACJ,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,MAAM,EAAE;AAC/C,wBAAI,CAAC,UAAU,EAAE,CAAC;iBACrB,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,OAAO,EAAE;AAChD,wBAAI,CAAC,UAAU,EAAE,CAAC;iBACrB,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,WAAW,CAAC,IAAI,EAAE;AAC7C,wBAAI,CAAC,UAAU,EAAE,CAAC;iBACrB,MAAM;AACH,wBAAI,CAAC,UAAU,EAAE,CAAC;iBACrB;AACD,sBAAM;;AAAA;AAGV,iBAAK,kBAAkB,CAAC,SAAS;AAC7B,oBAAI,IAAI,CAAC,SAAS,EAAE,EAAE;AAClB,wBAAI,CAAC,QAAQ,EAAE,CAAC;AAChB,wBAAI,CAAC,UAAU,EAAE,CAAC;AAClB,wBAAI,CAAC,UAAU,EAAE,CAAC;iBACrB;AACD,sBAAM;;AAAA;AAGV,iBAAK,kBAAkB,CAAC,aAAa;AACjC,sBAAM;;AAAA,AAEV;AACI,sBAAM;AAAA,SACb;KACJ;;AAED,yBAAqB,EAAE,+BAAU,QAAQ,EAAE;AACvC,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACnD,gBAAI,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;AACzC,gBAAI,CAAC,SAAS,CAAC,KAAK,EAAE;AAClB,oBAAI,QAAQ,IAAI,SAAS,CAAC,WAAW,EAAE;AACnC,wBAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;AAC7C,6BAAS,CAAC,KAAK,GAAG,IAAI,CAAC;iBAC1B;aACJ;SACJ;KACJ;;AAED,sBAAkB,EAAE,4BAAU,SAAS,EAAE;AACrC,gBAAQ,SAAS,CAAC,OAAO;AACrB,iBAAK,gBAAgB,CAAC,MAAM;AAAE,oBAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC,AAAC,MAAM;AAAA,AACrE,iBAAK,gBAAgB,CAAC,UAAU;AAAE,oBAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,CAAC,AAAC,MAAM;AAAA,AAC5E,iBAAK,gBAAgB,CAAC,YAAY;AAAE,oBAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,AAAC,MAAM;AAAA,AAC7D,iBAAK,gBAAgB,CAAC,WAAW;AAAE,oBAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,AAAC,MAAM;AAAA,SAC5E;KACJ;;AAED,mBAAe,EAAE,yBAAU,SAAS,EAAE;AAClC,YAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,EAAE,CAAC,IAAI,CAClD,SAAS,CAAC,KAAK,CAAC,CAAC,EACjB,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB,YAAI,IAAI,CAAC,UAAU,IAAI,cAAc,CAAC,IAAI,EACtC,MAAM,CAAC,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC;AACtC,YAAI,MAAM,GAAG,IAAI,EAAE,CAAC,IAAI,CACpB,MAAM,CAAC,CAAC,EACR,MAAM,CAAC,CAAC,EACR,SAAS,CAAC,KAAK,CAAC,KAAK,EACrB,SAAS,CAAC,KAAK,CAAC,MAAM,CACzB,CAAC;AACF,YAAI,aAAa,GAAG,IAAI,CAAC;AACzB,YAAI,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;AAC5C,YAAI,WAAW,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AACxC,YAAI,IAAI,KAAK,MAAM,EACf,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,KACjE;AACD,yBAAa,GAAG,CAAC,MAAM,CAAC,CAAC;AACzB,uBAAW,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAA,GAAI,EAAE,CAAC;SAC3D;AACD,YAAI,MAAM,GAAG,KAAK,CAAC;AACnB,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,aAAa,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC3C,gBAAI,KAAK,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC;AAC7B,gBAAI,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,KAAK,EAAE,EAAE,SAAS,CAAC,UAAU,EAAE,WAAW,EAAE,SAAS,CAAC,WAAW,CAAC,EAC3F,MAAM,GAAG,IAAI,CAAC;SACrB;AACD,YAAI,MAAM,IAAI,SAAS,CAAC,KAAK,IAAI,SAAS,CAAC,KAAK,KAAK,CAAC,EAAE;AACpD,cAAE,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,EAAE,EAAE,CAAC,SAAS,EAAE,UAAU,GAAG,EAAE,SAAS,EAAE;AAClF,kBAAE,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;aAC/C,CAAC,CAAC;SACN;AACD,YAAI,CAAC,cAAc,GAAG,MAAM,CAAC;KAChC;;AAED,sBAAkB,EAAE,4BAAU,SAAS,EAAE;AACrC,YAAI,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;KAC7E;;AAED,kBAAc,EAAE,wBAAU,SAAS,EAAE;AACjC,YAAI,IAAI,CAAC,aAAa,EAAE;AACpB,gBAAI,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC9F,gBAAI,CAAC,aAAa,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,UAAU,IAAI,cAAc,CAAC,IAAI,CAAC,CAAC;SAC7G;KACJ;;AAED,SAAK,EAAE,eAAU,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE;AAClE,YAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,OAAO,EAClC,OAAO,KAAK,CAAC;;AAEjB,YAAI,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AACzB,YAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;;AAE3B,YAAI,IAAI,CAAC,cAAc,GAAG,CAAC,EACvB,IAAI,CAAC,QAAQ,EAAE,CAAC;AACpB,YAAI,IAAI,CAAC,YAAY,EACjB,IAAI,CAAC,UAAU,EAAE,CAAC;AACtB,YAAI,IAAI,CAAC,OAAO,EAAE;AACd,gBAAI,IAAI,CAAC,eAAe,IAAI,CAAC,EACzB,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;SAC7D,MAAM;AACH,oBAAQ,UAAU;AACd,qBAAK,UAAU,CAAC,MAAM;AAClB,wBAAI,IAAI,CAAC,eAAe,IAAI,CAAC,EACzB,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;AACzC,0BAAM;AAAA,AACV,qBAAK,UAAU,CAAC,GAAG;AACf,wBAAI,CAAC,iBAAiB,IAAI,WAAW,CAAC,KAAK,CAAC;AAC5C,wBAAI,IAAI,CAAC,iBAAiB,IAAI,CAAC,EAAE;AAC7B,4BAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,kBAAkB,CAAC;AACjD,4BAAI,CAAC,aAAa,GAAG,IAAI,CAAC;qBAC7B;AACD,wBAAI,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,SAAS,EAAE,WAAW,CAAC,QAAQ,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;AACzG,0BAAM;AAAA,aACb;SACJ;;AAED,eAAO,IAAI,CAAC;KACf;;AAED,UAAM,EAAE,gBAAU,KAAK,EAAE;AACrB,YAAI,CAAC,GAAG,IAAI,KAAK,CAAC;AAClB,YAAI,IAAI,CAAC,GAAG,GAAG,CAAC,EACZ,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AACjB,YAAI,IAAI,CAAC,GAAG,KAAK,CAAC,EAAE;AAChB,gBAAI,CAAC,IAAI,CAAC,OAAO,EAAE;AACf,oBAAI,IAAI,KAAK,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,EACvC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;AACrC,oBAAI,CAAC,OAAO,GAAG,IAAI,CAAC;aACvB;SACJ;KACJ;;AAED,oBAAgB,EAAE,4BAAY,EAE7B;;AAED,iBAAa,EAAE,uBAAS,MAAM,EAAE;AAC5B,YAAI,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;AACzE,cAAM,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AACnB,cAAM,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;AACnB,YAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC;AAC5B,YAAI,IAAI,CAAC,UAAU,IAAI,cAAc,CAAC,IAAI,EACtC,MAAM,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;AACzB,YAAI,YAAY,GAAG,EAAE,CAAC,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1D,YAAI,GAAG,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAChG,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,UAAE,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,EAAE,UAAU,GAAG,EAAE,MAAM,EAAE;AACxD,gBAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AAClC,gBAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AACf,gBAAI,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;AACf,gBAAI,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC;AAChD,qBAAS,CAAC,EAAE,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;AACtC,oBAAI,CAAC,gBAAgB,EAAE,CAAC;aAC3B,CAAC,CAAC;AACH,gBAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;SAChC,CAAC,CAAC;KACN;;AAED,qBAAiB,EAAE,2BAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AACzC,YAAI,SAAS,GAAG,IAAI,CAAC,oBAAoB,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;AAC1D,YAAI,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;AACtG,YAAI,CAAC,UAAU,CAAC,IAAI,EAAE;AAClB,sBAAU,CAAC,IAAI,GAAG,AAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,IAClD,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,CAAC,AAAC,CAAA;AAChF,mBAAO,UAAU,CAAC;SACrB,MAAM;AACH,sBAAU,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,CAAC;AACjC,mBAAO,UAAU,CAAC;SACrB;AACD,eAAO,SAAS,CAAC;KACpB;;AAED,wBAAoB,EAAE,8BAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC5C,YAAI,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC;AAC/C,YAAI,OAAO,GAAG,IAAI,CAAC;AACnB,YAAI,EAAE,GAAG,CAAC,EAAE;AACR,cAAE,GAAG,CAAC,CAAC;AACP,mBAAO,GAAG,KAAK,CAAC;SACnB,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,YAAY,CAAC,KAAK,EAAE;AAC7C,cAAE,GAAG,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;AAC5B,mBAAO,GAAG,KAAK,CAAC;SACnB;AACD,YAAI,EAAE,GAAG,CAAC,EAAE;AACR,cAAE,GAAG,CAAC,CAAC;AACP,mBAAO,GAAG,KAAK,CAAC;SACnB,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE;AAC9C,cAAE,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;AAC7B,mBAAO,GAAG,KAAK,CAAC;SACnB;;AAED,YAAI,IAAI,GAAG,KAAK;YAAE,IAAI,GAAG,KAAK,CAAC;AAC/B,YAAI,EAAE,GAAG,CAAC,EAAE;AACR,cAAE,GAAG,CAAC,CAAC;AACP,gBAAI,GAAG,IAAI,CAAC;SACf,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,YAAY,CAAC,KAAK,EAAE;AAC7C,cAAE,GAAG,YAAY,CAAC,KAAK,GAAG,CAAC,CAAC;AAC5B,gBAAI,GAAG,IAAI,CAAC;SACf;AACD,YAAI,EAAE,GAAG,CAAC,EAAE;AACR,cAAE,GAAG,CAAC,CAAC;AACP,gBAAI,GAAG,IAAI,CAAC;SACf,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,YAAY,CAAC,MAAM,EAAE;AAC9C,cAAE,GAAG,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC;AAC7B,gBAAI,GAAG,IAAI,CAAC;SACf;;AAED,YAAI,IAAI,IAAI,IAAI,EACZ,OAAO,GAAG,KAAK,CAAC;;AAEpB,YAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,YAAI,OAAO,EAAE;AACT,gBAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;AACvC,gBAAI,EAAE,GAAG,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC;AAC7B,gBAAI,EAAE,GAAG,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC;AAC9B,gBAAI,GAAG,GAAG,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC;AAC9B,gBAAI,GAAG,GAAG,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC;AAC/B,gBAAI,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AAClB,gBAAI,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;AAClB,gBAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAE,CAAA;;AAEpF,cAAE,GAAG,EAAE,GAAG,IAAI,CAAC;AACf,cAAE,GAAG,EAAE,GAAG,IAAI,CAAC;AACf,iBAAK,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,EAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAG;AAClC,oBAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;AAC/B,oBAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC;AAC/B,oBAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AAC1B,oBAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;AAC1B,oBAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AACtC,sBAAE,IAAI,EAAE,CAAC;AACT,sBAAE,IAAI,EAAE,CAAC;iBACZ,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AAC7C,sBAAE,IAAI,EAAE,CAAC;iBACZ,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AAC7C,sBAAE,IAAI,EAAE,CAAC;iBACZ,MAAM;AACH,4BAAQ,GAAG,KAAK,CAAC;AACjB,0BAAM;iBACT;aACJ;AACD,cAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AACrC,cAAE,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzC;;AAED,eAAO,EAAE,IAAI,EAAE,OAAO,IAAI,QAAQ,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;KACxE;;AAED,2BAAuB,EAAE,iCAAU,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE;AAC/C,YAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;AAC9C,YAAI,UAAU,CAAC,IAAI,KAAK,CAAC,IACtB,UAAU,CAAC,IAAI,KAAK,CAAC,IACrB,UAAU,CAAC,IAAI,KAAK,CAAC,IACrB,UAAU,CAAC,IAAI,KAAK,CAAC,EAAE;AACtB,sBAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACpB,sBAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACpB,sBAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,CAAC;AACpD,sBAAU,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,MAAM,CAAC;SACxD;AACD,YAAI,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC;AAC9C,kBAAU,CAAC,IAAI,IAAI,SAAS,CAAC;AAC7B,kBAAU,CAAC,IAAI,IAAI,SAAS,CAAC;AAC7B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,UAAU,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,EAAE;AAC1C,gBAAI,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE;AACvB,kBAAE,GAAG,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACzB,oBAAI,GAAG,KAAK,CAAC;aAChB,MAAM,IAAI,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE;AAC9B,kBAAE,GAAG,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACzB,oBAAI,GAAG,KAAK,CAAC;aAChB;AACD,gBAAI,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE;AACvB,kBAAE,GAAG,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACzB,oBAAI,GAAG,KAAK,CAAC;aAChB,MAAM,IAAI,EAAE,IAAI,UAAU,CAAC,IAAI,EAAE;AAC9B,kBAAE,GAAG,UAAU,CAAC,IAAI,GAAG,CAAC,CAAC;AACzB,oBAAI,GAAG,KAAK,CAAC;aAChB;SACJ;AACD,YAAI,MAAM,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;AAC5D,eAAO,MAAM,CAAC;KACjB;CACJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "var SkillDefine = require(\"skill_define\");\r\nvar ActorDefine = require(\"actor_define\");\r\nvar ActorDirection = ActorDefine.ActorDirection;\r\nvar ActorAction = ActorDefine.ActorAction;\r\nvar ActionName = ActorDefine.ActionName;\r\nvar ActionClipIndex = ActorDefine.ActionClipIndex;\r\nvar ActionCompleteType = ActorDefine.ActionCompleteType;\r\nvar TimePointActType = SkillDefine.TimePointActType;\r\nvar AttackType = SkillDefine.AttackType;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        moveSpeed: new cc.Vec2(0, 0),\r\n        \r\n        logicManager: {\r\n            set: function (manager) {\r\n                this._logicManager = manager;\r\n            },\r\n            \r\n            get: function () {\r\n                return this._logicManager;\r\n            }\r\n        },\r\n        \r\n        map: {\r\n            set: function (map) {\r\n                if (!map) {\r\n                    this._map = null;\r\n                } else {\r\n                    this._map = map;\r\n                    this._map.addEnity(this.node);\r\n                }\r\n            },\r\n            \r\n            get: function () {\r\n                return this._map;\r\n            }\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._model = this.node.getChildByName(\"model\");\r\n        this._modelAnimation = this._model.getComponent(cc.Animation);\r\n        this._body = this._model.getChildByName(\"body\");\r\n        var box = this.node.getComponent(cc.BoxCollider);\r\n        this._box = new cc.Rect(box.offset.x - box.size.width / 2,\r\n            box.offset.y - box.size.height / 2,\r\n            box.size.width,\r\n            box.size.height);\r\n        \r\n        this._direction = null;\r\n        \r\n        this._currAction = null;\r\n        this._currActionEndTime = 0;\r\n        \r\n        this._floatState = 0;\r\n        this._floatStartTime = 0;\r\n        this._floatTopTime = 0;\r\n        this._floatUpStartPos = new cc.Vec2();\r\n        this._floatDownStartPos = new cc.Vec2();\r\n        this._floatSpeed = new cc.Vec2();\r\n        this._floatUpAccelerator = 0;\r\n        \r\n        this._isAttacking = false;\r\n        this._needStopPosture = false;\r\n        this._attackEndTime = 0;\r\n        this._skillTimeStates = [];\r\n        this._currPostureEndTime = 0;\r\n        this._currPostureCount = 0;\r\n        this._currPostureIndex = 0;\r\n        this._currPosture = null;\r\n        this._currPostures = [null, null, null, null];\r\n        \r\n        this._moveStartTime = 0;\r\n        this._moveEndTime = 0;\r\n        this._initiativeMove = false;\r\n        this._targetMovePos = null;\r\n        this._moveStartPos = new cc.Vec2();\r\n        this._currMoveSpeed = new cc.Vec2();\r\n        \r\n        this._needRelive = false;\r\n        this._reliveEndTime = 0;\r\n        \r\n        // 受击结事时间（即受击硬直）\r\n        this._hurtEndTime = 0;\r\n        \r\n        // 倒地结束时间\r\n        this._collapseEndTime = 0;\r\n        \r\n        // 起身结束时间\r\n        this._recoverEndTime = 0;\r\n\r\n        this._bornEndTime = 0;\r\n        \r\n        this._lastHitResult = false;\r\n        this._isInvincible = false;\r\n        this._defaultComboValue = 100;\r\n        this._remainComboValue = this._defaultComboValue;\r\n        \r\n        this._hpMax = 1000;\r\n        this._hp = 1000;\r\n\r\n        this.setAction(ActorAction.IDLE, ActorDirection.RIGHT);  \r\n    },\r\n    \r\n    reset: function () {\r\n        this._floatState = 0;\r\n        this._floatStartTime = 0;\r\n        this._floatTopTime = 0;\r\n        this._floatUpStartPos.x = this._floatUpStartPos.y = 0;\r\n        this._floatDownStartPos.x = this._floatDownStartPos.y = 0;\r\n        this._floatSpeed.x = this._floatSpeed.y = 0;\r\n        this._floatUpAccelerator = 0;\r\n        \r\n        this._isAttacking = false;\r\n        this._needStopPosture = false;\r\n        this._attackEndTime = 0;\r\n        this._skillTimeStates.splice(0, this._skillTimeStates.length);\r\n        this._currPostureEndTime = 0;\r\n        this._currPostureCount = 0;\r\n        this._currPostureIndex = 0;\r\n        this._currPosture = null;\r\n        for (var i = 0; i < this._currPostures.length; i++) {\r\n            this._currPostures[i] = null;\r\n        }\r\n        \r\n        this._moveStartTime = 0;\r\n        this._moveEndTime = 0;\r\n        this._initiativeMove = false;\r\n        this._targetMovePos = null;\r\n        this._moveStartPos.x = this._moveStartPos.y = 0;\r\n        this._currMoveSpeed.x = this._currMoveSpeed.y = 0;\r\n        \r\n        this._needRelive = false;\r\n        this._reliveEndTime = 0;\r\n        \r\n        // 受击结事时间（即受击硬直）\r\n        this._hurtEndTime = 0;\r\n        \r\n        // 倒地结束时间\r\n        this._collapseEndTime = 0;\r\n        \r\n        // 起身结束时间\r\n        this._recoverEndTime = 0;\r\n\r\n        this._bornEndTime = 0;\r\n        \r\n        this._lastHitResult = false;\r\n        this._isInvincible = false;\r\n        this._remainComboValue = this._defaultComboValue;\r\n\r\n        this._hp = this._hpMax;\r\n\r\n        this._model.y = 0;\r\n        this.setAction(ActorAction.IDLE, this._direction);  \r\n    },\r\n\r\n    born: function () {\r\n        this.reset();\r\n        this._isInvincible = true;\r\n        this._bornEndTime = Global.syncTimer.getTimer() + this._modelAnimation.getClips()[ActionClipIndex.BORN].duration;\r\n        this.setAction(ActorAction.BORN, this._direction);\r\n    },\r\n\r\n    setActorPosition: function (x, y) {\r\n        this.node.x = x;\r\n        this.node.y = y;\r\n    },\r\n    \r\n    setDirection: function (dir) {\r\n        if (this._direction === dir\r\n        || dir != ActorDirection.LEFT\r\n        && dir != ActorDirection.RIGHT)\r\n            return;\r\n        this._direction = dir;\r\n        this.node.scaleX = dir;\r\n    },\r\n    \r\n    getDirection: function () {\r\n        return this._direction;\r\n    },\r\n\r\n    setAction: function (action, dir, param, time) {\r\n        var actionName = null;\r\n        switch (action) {\r\n            case ActorAction.ATTACK:\r\n                actionName = ActionName[action] + param;\r\n                break;\r\n            default:\r\n                actionName = ActionName[action];\r\n                break;\r\n        }\r\n        this._currAction = action;\r\n        this._modelAnimation.play(actionName);\r\n        if (!time || time === 0)\r\n            this._currActionEndTime = Global.syncTimer.getTimer() + this._modelAnimation.currentClip.duration;\r\n        else\r\n            this._currActionEndTime = Global.syncTimer.getTimer() + time;\r\n        this.setDirection(dir);\r\n    },\r\n    \r\n    setHp: function (value, max) {\r\n        if (value < 0)\r\n            value = 0;\r\n        if (value < 1)\r\n            value = 1;\r\n        this._hpMax = value;\r\n        this._hp = value;\r\n    },\r\n\r\n    getHp: function () {\r\n        return this._hp;\r\n    },\r\n    \r\n    getCollision: function () {\r\n        var xff = this.node.convertToWorldSpace(new cc.Vec2(0, 0));\r\n        var offset = this.node.convertToWorldSpace(new cc.Vec2(\r\n            this._box.x,\r\n            this._box.y));\r\n        if (this._direction == ActorDirection.LEFT)\r\n            offset.x -= this._box.width;\r\n        return new cc.Rect(offset.x, offset.y, this._box.width, this._box.height);\r\n    },\r\n    \r\n    isDead: function () {\r\n        return this._isDead;\r\n    },\r\n\r\n    relive: function () {\r\n        if (this._needRelive || !this._isDead)\r\n            return;\r\n        this._needRelive = true;\r\n    },\r\n    \r\n    startRelive: function () {\r\n        this.reset();\r\n        this._isInvincible = true;\r\n        this._reliveEndTime = Global.syncTimer.getTimer() + this._modelAnimation.getClips()[ActionClipIndex.RELIVE].duration + 1;\r\n        this.setAction(ActorAction.RELIVE, this._direction);\r\n        this.playReliveEffect();\r\n    },\r\n    \r\n    endRelive: function () {\r\n        this._isDead = false;\r\n        this._isInvincible = false;\r\n        this._reliveEndTime = 0;\r\n    },\r\n\r\n    startHurt: function (time, dir) {\r\n        this._hurtEndTime = Global.syncTimer.getTimer() + time;\r\n        this.setAction(ActorAction.HURT, dir);\r\n    },\r\n    \r\n    endHurt: function () {\r\n        this._hurtEndTime = 0;  \r\n    },\r\n    \r\n    startFloat: function (topTime, topHeight, distance) {\r\n        this._floatState = 0;\r\n        this._floatStartTime = Global.syncTimer.getTimer();\r\n        this._floatTopTime = this._floatStartTime + topTime;\r\n        this._floatUpStartPos.x = this.node.x;\r\n        this._floatUpStartPos.y = this._model.y;\r\n        this._floatDownStartPos.x = 0;\r\n        this._floatDownStartPos.y = 0;\r\n        this._floatUpAccelerator = (2 * topHeight) / (topTime * topTime);\r\n        this._floatSpeed.x = distance / (topTime * 2);\r\n        this._floatSpeed.y = this._floatUpAccelerator * topTime;\r\n    },\r\n    \r\n    endFloat: function () {\r\n        this._floatState = 0;\r\n        this._floatStartTime = 0;\r\n        this._floatTopTime = 0;\r\n        this._floatUpStartPos.y = 0;\r\n        this._floatUpStartPos.x = 0;\r\n        this._floatDownStartPos.x = 0;\r\n        this._floatDownStartPos.y = 0;\r\n        this._floatSpeed.x = 0;\r\n        this._floatSpeed.y = 0;\r\n        this._floatUpAccelerator = 0;\r\n        cc.loader.loadRes(\"sound/5\", cc.AudioClip, function (err, audioClip) {\r\n            cc.audioEngine.playEffect(audioClip, false);\r\n        })\r\n    },\r\n    \r\n    startCollapse: function () {\r\n        this._collapseEndTime = Global.syncTimer.getTimer() + this._modelAnimation.getClips()[ActionClipIndex.COLLAPSE].duration + 1;\r\n        this.setAction(ActorAction.COLLAPSE, this._direction);\r\n    },\r\n    \r\n    endCollapse: function () {\r\n        this._collapseEndTime = 0;\r\n    },\r\n    \r\n    startRecover: function () {\r\n        this._isInvincible = true;\r\n        this._recoverEndTime = Global.syncTimer.getTimer() + this._modelAnimation.getClips()[ActionClipIndex.RECOVER].duration;\r\n        this.setAction(ActorAction.RECOVER, this._direction);\r\n    },\r\n    \r\n    endRecover: function () {\r\n        this._isInvincible = false;\r\n        this._recoverEndTime = 0;\r\n        this._remainComboValue = this._defaultComboValue;\r\n    },\r\n    \r\n    moveTo: function (x, y, time, dir) {\r\n        this.stopMove();\r\n        var speedX = (x - this.node.x) / time;\r\n        var speedY = (y - this.node.y) / time;\r\n        this.startMove(speedX, speedY, false);\r\n        this.setDirection(dir);\r\n        this._targetMovePos = new cc.Vec2(x, y);\r\n        this._moveEndTime = this._moveStartTime + time;\r\n    },\r\n\r\n    startMove: function (speedX, speedY, initiative) {\r\n        this._initiativeMove = initiative;\r\n        this._moveStartTime = Global.syncTimer.getTimer();\r\n        this._currMoveSpeed.x = speedX;\r\n        this._currMoveSpeed.y = speedY;\r\n        this._moveStartPos.x = this.node.x;\r\n        this._moveStartPos.y = this.node.y;\r\n    },\r\n    \r\n    stopMove: function () {\r\n        this._moveStartTime = 0;\r\n        this._moveEndTime = 0;\r\n        this._initiativeMove = false;\r\n        this._targetMovePos = null;\r\n        this._currMoveSpeed.x = this._currMoveSpeed.y = 0;\r\n        this._moveStartPos.x = this._moveStartPos.y = 0;\r\n    },\r\n\r\n    startAttack: function (postureList, postureCount, dir) {\r\n        this.stopAttack();\r\n        this._isAttacking = true;\r\n        if (postureCount > this._currPostures.length)\r\n            postureCount = this._currPostures.length;\r\n        for (var i = 0; i < postureCount; i++) {\r\n            this._currPostures[i] = postureList[i];\r\n        }\r\n        this._currPostureCount = postureCount\r\n        this._currPostureIndex = 0;\r\n        this.launchPosture(postureList[0], dir);\r\n    },\r\n\r\n    stopAttack: function () {\r\n        this._isAttacking = false;\r\n        this.breakPosture();\r\n    },\r\n\r\n    launchPosture: function (posture, dir) {\r\n        this.launchSkillTimeList(posture);\r\n        this.setAction(ActorAction.ATTACK, dir, posture.actionIndex, posture.time);\r\n        this._currPostureEndTime = this._currActionEndTime;\r\n        this._currPosture = posture;\r\n    },\r\n\r\n    launchSkillTimeList: function (posture) {\r\n        this._skillTimeStates.splice(0, this._skillTimeStates.length);\r\n        var currTime = Global.syncTimer.getTimer();\r\n        var count = posture.timePoints.length;\r\n        for (var i = 0; i < count; i++) {\r\n            var timePoint = posture.timePoints[i];\r\n            var timeState = {\r\n                timePoint: timePoint,\r\n                takeEndTime: currTime + timePoint.takeTime,\r\n                posture: posture,\r\n                taked: false,\r\n            };\r\n            this._skillTimeStates.push(timeState);\r\n        }\r\n    },\r\n    \r\n    breakPosture: function () {\r\n        this._skillTimeStates.splice(0, this._skillTimeStates.length);\r\n        this._currPostureEndTime = 0;\r\n        this._currPosture = null;\r\n        this._currPostureCount = 0;\r\n        this._currPostureIndex = 0;\r\n    },\r\n\r\n    startDisappear: function () {\r\n        this.setAction(ActorAction.DISAPPEAR, this._direction);  \r\n    },\r\n    \r\n    processHurt: function (currTime) {\r\n        if (currTime >= this._hurtEndTime)\r\n            this.endHurt();\r\n    },\r\n    \r\n    processFloat: function (currTime) {\r\n        switch (this._floatState) {\r\n            //上升过程\r\n            case 0:\r\n                if (this._currAction !== ActorAction.HURT_FLY) {\r\n                    this.setAction(ActorAction.HURT_FLY, this._direction);\r\n                }\r\n                var timeElapased = currTime - this._floatStartTime;\r\n                if (currTime >= this._floatTopTime) {\r\n                    timeElapased = this._floatTopTime - this._floatStartTime;\r\n                    this._floatState++;\r\n                }\r\n                var x = this._floatUpStartPos.x + timeElapased * this._floatSpeed.x;\r\n                var y = this._floatUpStartPos.y + this._floatSpeed.y * timeElapased - this._floatUpAccelerator * timeElapased * timeElapased / 2\r\n                var result = this.getFixedMovePoint(this.node.x, this.node.y, x, this.node.y);\r\n                this.node.x = result.dx;\r\n                this._model.y = y;\r\n                this._floatDownStartPos.x = result.dx;\r\n                this._floatDownStartPos.y = y;\r\n                break;\r\n            \r\n            //下落过程\r\n            case 1:\r\n                if (this._currAction !== ActorAction.HURT_FALL) {\r\n                    this.setAction(ActorAction.HURT_FALL, this._direction);\r\n                }\r\n                var timeElapased = currTime - this._floatTopTime;\r\n                var x = this._floatDownStartPos.x + timeElapased * this._floatSpeed.x;\r\n                var y = this._floatDownStartPos.y - (3000 * (timeElapased * timeElapased))/2;\r\n                var result = this.getFixedMovePoint(this.node.x, this.node.y, x, this.node.y);\r\n                this.node.x = result.dx;\r\n                if (y <= 0) {\r\n                    y = 0;\r\n                    this._floatState++;\r\n                }\r\n                this._model.y = y;\r\n                break;\r\n                \r\n            //结束\r\n            case 2:\r\n                this.endFloat();\r\n                this._model.y = 0;\r\n                this.startCollapse();\r\n                break;\r\n        }\r\n        this.setActorPosition(this.node.x, this.node.y);\r\n    },\r\n    \r\n    processCollapse: function (currTime) {\r\n        if (currTime >= this._collapseEndTime)\r\n            this.endCollapse();\r\n    },\r\n    \r\n    processRecover: function (currTime) {\r\n        if (currTime >= this._recoverEndTime)\r\n            this.endRecover();\r\n    },\r\n    \r\n    processAttack: function (currTime) {\r\n        var posture = this._currPosture;\r\n        if (posture) {\r\n            if (currTime >= this._currPostureEndTime) {\r\n                this._currPosture = null;\r\n                this._currPostureEndTime = 0;\r\n            }\r\n        } else if (currTime >= this._attackEndTime) {\r\n            this._currPostureIndex++;\r\n            if (this._needStopPosture || this._currPostureIndex >= this._currPostureCount) {\r\n                this.stopAttack();\r\n            } else {\r\n                posture = this._currPosture[this._currPostureIndex];\r\n                this.launchPosture(posture, this._direction);\r\n            }\r\n        }\r\n    },\r\n    \r\n    processMove: function (currTime) {\r\n        if (this._currAction !== ActorAction.RUN) {\r\n            this.setAction(ActorAction.RUN, this._direction);\r\n        }\r\n        var pos = new cc.Vec2();\r\n        var timeElapased = currTime - this._moveStartTime;\r\n        if (this._moveEndTime > 0 && currTime >= this._moveEndTime) {\r\n            timeElapased = this._moveEndTime - this._moveStartTime;\r\n            pos.x = this._targetMovePos.x;\r\n            pos.y = this._targetMovePos.y;\r\n            this.stopMove();\r\n        } else {\r\n            pos.x = this._moveStartPos.x + timeElapased * this._currMoveSpeed.x;\r\n            pos.y = this._moveStartPos.y + timeElapased * this._currMoveSpeed.y;\r\n        }\r\n        var result = this.getFixedMovePoint(this.node.x, this.node.y, pos.x, pos.y);\r\n        this.setActorPosition(result.dx, result.dy);\r\n    },\r\n    \r\n    // 判断当前动作可否完成或可否打断\r\n    getCurrentActionCompleteType: function (currTime) {\r\n        if (this._reliveEndTime > 0\r\n        || this._bornEndTime > 0\r\n        || this._recoverEndTime > 0\r\n        || this._floatStartTime > 0\r\n        || this._collapseEndTime > 0\r\n        || this._recoverEndTime > 0\r\n        || this._hurtEndTime > 0)\r\n            return ActionCompleteType.UNCOMPLETABLE;\r\n        \r\n        switch (this._currAction) {\r\n            case ActorAction.IDLE:\r\n            case ActorAction.RUN:\r\n                return ActionCompleteType.COMPLETABLE;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (currTime >= this._currActionEndTime)\r\n            return ActionCompleteType.COMPLETABLE;\r\n        else\r\n            return ActionCompleteType.BREAKABLE;\r\n    },\r\n    \r\n    nextAction: function () {\r\n        if (this._moveStartTime > 0) {\r\n            //保持移动\r\n        }\r\n        else if (this._currAction !== ActorAction.IDLE) {\r\n\t\t\tthis.setAction(ActorAction.IDLE, this._direction);\r\n        }\r\n    },\r\n    \r\n    breakable: function () {\r\n        return false;\r\n    },\r\n    \r\n    needDisappear: function () {\r\n        return true;\r\n    },\r\n    \r\n    update: function (dt) {\r\n        var currTime = Global.syncTimer.getTimer();\r\n\r\n        if (this._bornEndTime > 0 && currTime >= this._bornEndTime) {\r\n            this._isInvincible = false;\r\n            this._bornEndTime = 0;\r\n        }\r\n\r\n        if (this._reliveEndTime > 0 && currTime >= this._reliveEndTime) {\r\n            this.endRelive();\r\n        }\r\n\r\n        if (this._floatStartTime > 0) {\r\n            this.processFloat(currTime);\r\n        }\r\n        \r\n        if (this._hurtEndTime > 0) {\r\n            this.processHurt(currTime);\r\n        }\r\n            \r\n        if (this._collapseEndTime > 0) {\r\n            this.processCollapse(currTime);\r\n        }\r\n            \r\n        if (this._recoverEndTime > 0) {\r\n            this.processRecover(currTime);\r\n        }\r\n        \r\n        // 更新技能作用时间点\r\n        this.updateSkillTimePoints(currTime);\r\n            \r\n        if (this._isAttacking) {\r\n            this.processAttack(currTime);\r\n        }\r\n            \r\n        if (this._moveStartTime > 0) {\r\n            this.processMove(currTime);\r\n        }\r\n            \r\n        var completeType = this.getCurrentActionCompleteType(currTime);\r\n        switch (completeType) {\r\n            // 已完成或可完成\r\n            case ActionCompleteType.COMPLETABLE:\r\n                if (this === this._logicManager.getPlayer()) {\r\n                    //cc.log('abc');\r\n                }\r\n                if (this._currAction == ActorAction.DISAPPEAR) {\r\n                    this._logicManager.removeEnity(this);\r\n                } else if (this._currAction == ActorAction.COLLAPSE) {\r\n                    if (this._isDead) {\r\n                        if (this._needRelive) {\r\n                            this.startRelive();\r\n                        } else if (this.needDisappear() && this._currAction != ActorAction.DISAPPEAR) {\r\n                            this.startDisappear();\r\n                        }\r\n                    } else {\r\n                        this.startRecover();\r\n                    }\r\n                } else if (this._currAction == ActorAction.RELIVE) {\r\n                    this.nextAction();\r\n                } else if (this._currAction == ActorAction.RECOVER) {\r\n                    this.nextAction();\r\n                } else if (this._currAction == ActorAction.BORN) {\r\n                    this.nextAction();\r\n                } else {\r\n                    this.nextAction();\r\n                }\r\n                break;\r\n                \r\n            // 可打断\r\n            case ActionCompleteType.BREAKABLE:\r\n                if (this.breakable()) {\r\n                    this.stopMove();\r\n                    this.stopAttack();\r\n                    this.nextAction();\r\n                }\r\n                break;\r\n            \r\n            // 未完成或不可完成\r\n            case ActionCompleteType.UNCOMPLETABLE:\r\n                break;\r\n                \r\n            default:\r\n                break;\r\n        }\r\n    },\r\n    \r\n    updateSkillTimePoints: function (currTime) {\r\n        for (var i = 0; i < this._skillTimeStates.length; i++) {\r\n            var timeState = this._skillTimeStates[i];\r\n            if (!timeState.taked) {\r\n                if (currTime >= timeState.takeEndTime) {\r\n                    this.takeSkillTimePoint(timeState.timePoint);\r\n                    timeState.taked = true;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    \r\n    takeSkillTimePoint: function (timePoint) {\r\n        switch (timePoint.actType) {\r\n            case TimePointActType.DAMAGE: this.takeSkillDamage(timePoint); break;\r\n            case TimePointActType.SELF_DELAY: this.takeSkillSelfDelay(timePoint); break;\r\n            case TimePointActType.SHOCK_SCREEN: this._map.shock(); break;\r\n            case TimePointActType.PLAY_EFFECT: this.takePlayEffect(timePoint); break;\r\n        }\r\n    },\r\n    \r\n    takeSkillDamage: function (timePoint) {\r\n        var offset = this.node.convertToWorldSpace(new cc.Vec2(\r\n            timePoint.range.x,\r\n            timePoint.range.y));\r\n        if (this._direction == ActorDirection.LEFT)\r\n            offset.x -= timePoint.range.width;\r\n        var region = new cc.Rect(\r\n            offset.x,\r\n            offset.y,\r\n            timePoint.range.width,\r\n            timePoint.range.height,\r\n        );\r\n        var hittingActors = null;\r\n        var player = this._logicManager.getPlayer();\r\n        var attackValue = timePoint.actValue[0];\r\n        if (this === player) \r\n            hittingActors = this._logicManager.getActorByRegion(this, region);\r\n        else {\r\n            hittingActors = [player];\r\n            attackValue += (this._logicManager.getRound() - 1) * 20;\r\n        }\r\n        var result = false;\r\n        for (var i = 0; i < hittingActors.length; i++) {\r\n            var actor = hittingActors[i];\r\n            if (actor.stuck(this, region.clone(), timePoint.attackType, attackValue, timePoint.attackParam))\r\n                result = true;\r\n        }\r\n        if (result && timePoint.sound && timePoint.sound !== 0) {\r\n            cc.loader.loadRes(\"sound/\" + timePoint.sound, cc.AudioClip, function (err, audioClip) {\r\n                cc.audioEngine.playEffect(audioClip, false);\r\n            });\r\n        }\r\n        this._lastHitResult = result;\r\n    },\r\n    \r\n    takeSkillSelfDelay: function (timePoint) {\r\n        this._attackEndTime = Global.syncTimer.getTimer() + timePoint.actValue[0];\r\n    },\r\n\r\n    takePlayEffect: function (timePoint) {\r\n        if (this._logicManager) {\r\n            var pos = new cc.Vec2(this.node.x + timePoint.position.x, this.node.y + timePoint.position.y);\r\n            this._logicManager.playEffect(timePoint.id, timePoint.layer, pos, this._direction == ActorDirection.LEFT);\r\n        }\r\n    },\r\n\r\n    stuck: function (actor, region, attackType, attackValue, attackParam) {\r\n        if (this._isInvincible || this._isDead)\r\n            return false;\r\n\r\n        this.damage(attackValue);\r\n        this.playHitEffect(region);\r\n        \r\n        if (this._moveStartTime > 0)\r\n            this.stopMove();\r\n        if (this._isAttacking)\r\n            this.stopAttack();\r\n        if (this._isDead) {\r\n            if (this._floatStartTime <= 0)\r\n                this.startFloat(0.7, 150, 150 * actor.getDirection());\r\n        } else {\r\n            switch (attackType) {\r\n                case AttackType.NORMAL:\r\n                    if (this._floatStartTime <= 0)\r\n                        this.startHurt(0.3, this._direction);\r\n                    break;\r\n                case AttackType.FLY:\r\n                    this._remainComboValue -= attackParam.combo;\r\n                    if (this._remainComboValue <= 0) {\r\n                        this._remainComboValue = this._defaultComboValue;\r\n                        this._isInvincible = true;\r\n                    }\r\n                    this.startFloat(attackParam.topTime, attackParam.topHeight, attackParam.distance * actor.getDirection());\r\n                    break;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    },\r\n\r\n    damage: function (value) {\r\n        this._hp -= value;\r\n        if (this._hp < 0)\r\n            this._hp = 0;\r\n        if (this._hp === 0) {\r\n            if (!this._isDead) {\r\n                if (this !== this._logicManager.getPlayer())\r\n                    this._logicManager.killMonster();\r\n                this._isDead = true;\r\n            }\r\n        }\r\n    },\r\n\r\n    playReliveEffect: function () {\r\n        \r\n    },\r\n\r\n    playHitEffect: function(region) {\r\n        var point = this.node.convertToNodeSpace(new cc.Vec2(region.x, region.y))\r\n        region.x = point.x;\r\n        region.y = point.y;\r\n        var box = this._box.clone();\r\n        if (this._direction == ActorDirection.LEFT)\r\n            region.x = -region.x;\r\n        var intersection = cc.rectIntersection(region, this._box);\r\n        var pos = new cc.Vec2(this.node.x + intersection.center.x, this.node.y + intersection.center.y);\r\n        var self = this;\r\n        cc.loader.loadRes(\"prefab/effect/4\", function (err, prefab) {\r\n            var node = cc.instantiate(prefab);\r\n            node.x = pos.x;\r\n            node.y = pos.y;\r\n            var animation = node.getComponent(cc.Animation);\r\n            animation.on('finished', function (event) {\r\n                node.removeFromParent();\r\n            });\r\n            self._map.addEffect(node, 1);\r\n        });\r\n    },\r\n\r\n    getFixedMovePoint: function (sx, sy, dx, dy) {\r\n        var mapResult = this.getFixedMapMovePoint(sx, sy, dx, dy);\r\n        var lockResult = this.getFixedLockRegionPoint(mapResult.sx, mapResult.sy, mapResult.dx, mapResult.dy);\r\n        if (!lockResult.pass) {\r\n            lockResult.pass = (Math.floor(lockResult.sx) !== Math.floor(lockResult.dx))\r\n                                || (Math.floor(lockResult.sy) !== Math.floor(lockResult.dy))\r\n            return lockResult;\r\n        } else {\r\n            lockResult.pass = mapResult.pass;\r\n            return lockResult;\r\n        }\r\n        return mapResult;\r\n    },\r\n\r\n    getFixedMapMovePoint: function (sx, sy, dx, dy) {\r\n        var mapPixesSize = this._map.getMapPixesSize();\r\n        var mapPass = true;\r\n        if (sx < 0) {\r\n            sx = 0;\r\n            mapPass = false;\r\n        } else if (Math.floor(sx) >= mapPixesSize.width) {\r\n            sx = mapPixesSize.width - 1;\r\n            mapPass = false;\r\n        }\r\n        if (sy < 0) {\r\n            sy = 0;\r\n            mapPass = false;\r\n        } else if (Math.floor(sy) >= mapPixesSize.height) {\r\n            sy = mapPixesSize.height - 1;\r\n            mapPass = false;\r\n        }\r\n\r\n        var uOut = false, vOut = false;\r\n        if (dx < 0) {\r\n            dx = 0;\r\n            uOut = true;\r\n        } else if (Math.floor(dx) >= mapPixesSize.width) {\r\n            dx = mapPixesSize.width - 1;\r\n            uOut = true;\r\n        }\r\n        if (dy < 0) {\r\n            dy = 0;\r\n            uOut = true;\r\n        } else if (Math.floor(dy) >= mapPixesSize.height) {\r\n            dy = mapPixesSize.height - 1;\r\n            uOut = true;\r\n        }\r\n\r\n        if (uOut && vOut)\r\n            mapPass = false;\r\n\r\n        var linePass = true;\r\n        if (mapPass) {\r\n            var tileSize = this._map.getTileSize();\r\n            var ux = sx / tileSize.width;\r\n            var uy = sy / tileSize.height;\r\n            var udx = dx / tileSize.width;\r\n            var udy = dy / tileSize.height;\r\n            var px = udx - ux;\r\n            var py = udy - uy;\r\n            var dist = Math.max(1, (Math.max(Math.ceil(Math.abs(px)), Math.ceil(Math.abs(py)))))\r\n            \r\n            px = px / dist;\r\n            py = py / dist;\r\n            for (var i = dist - 1 ; i > -1; i-- ) {\r\n                var newX = Math.floor(ux + px);\r\n                var newY = Math.floor(uy + py);\r\n                var oldX = Math.floor(ux);\r\n                var oldY = Math.floor(uy);\r\n                if (this._map.checkMovePoint(newX, newY)) {\r\n                    ux += px;\r\n                    uy += py;\r\n                } else if (this._map.checkMovePoint(newX, oldY)) {\r\n                    ux += px;\r\n                } else if (this._map.checkMovePoint(oldX, newY)) {\r\n                    uy += py;\r\n                } else {\r\n                    linePass = false;\r\n                    break;\r\n                }\r\n            }\r\n            dx = Math.floor(ux * tileSize.width);\r\n            dy = Math.floor(uy * tileSize.height);\r\n        }\r\n\r\n        return { pass: mapPass && linePass, sx: sx, sy: sy, dy: dy, dx: dx };\r\n    },\r\n    \r\n    getFixedLockRegionPoint: function (sx, sy, dx, dy) {\r\n        var lockRegion = this._map.lockRegion.clone();\r\n        if (lockRegion.xMin === 0\r\n        && lockRegion.yMin === 0\r\n        && lockRegion.xMax === 0\r\n        && lockRegion.xMax === 0) {\r\n            lockRegion.xMin = 0;\r\n            lockRegion.yMin = 0;\r\n            lockRegion.xMax = this._map.getMapPixesSize().width;\r\n            lockRegion.yMax = this._map.getMapPixesSize().height;\r\n        }\r\n        var haltWidth = this.getCollision().width / 2;\r\n        lockRegion.xMin += haltWidth;\r\n        lockRegion.xMax -= haltWidth;\r\n        var pass = true;\r\n        if (lockRegion.contains(new cc.Vec2(sx, sy))) {\r\n            if (dx <= lockRegion.xMin) {\r\n                dx = lockRegion.xMin + 1;\r\n                pass = false;\r\n            } else if (dx >= lockRegion.xMax) {\r\n                dx = lockRegion.xMax - 1;\r\n                pass = false;\r\n            }\r\n            if (dy <= lockRegion.yMin) {\r\n                dy = lockRegion.yMin + 1;\r\n                pass = false;\r\n            } else if (dy >= lockRegion.yMax) {\r\n                dy = lockRegion.yMax - 1;\r\n                pass = false;\r\n            }\r\n        }\r\n        var result = { pass: pass, sx: sx, sy: sy, dy: dy, dx: dx };\r\n        return result;\r\n    },\r\n});\r\n"
  ]
}