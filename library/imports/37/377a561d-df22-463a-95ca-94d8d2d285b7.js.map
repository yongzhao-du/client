{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "AAAA,IAAM,cAAc,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;AAEjD,EAAE,CAAC,KAAK,CAAC;AACL,eAAS,EAAE,CAAC,SAAS;;AAErB,cAAU,EAAE;AACR,iBAAS,EAAE,EAAE,CAAC,KAAK;AACnB,gBAAQ,EAAE,EAAE,CAAC,KAAK;AAClB,iBAAS,EAAE,EAAE,CAAC,KAAK;AACnB,mBAAW,EAAE,EAAE,CAAC,IAAI;AACpB,kBAAU,EAAE,EAAE,CAAC,MAAM;KACxB;;;AAGD,UAAM,EAAE,kBAAY;AAChB,YAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,CAAC;AAC5C,YAAI,CAAC,aAAa,GAAG,MAAM,CAAC,aAAa,CAAC,YAAY,CAAC;AACvD,YAAI,CAAC,SAAS,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;;AAE/C,YAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;AAC9F,YAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACvF,YAAI,CAAC,SAAS,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;;AAE3G,YAAI,CAAC,gBAAgB,GAAG,MAAM,CAAC,mBAAmB,CAAC,eAAe,CAAC,SAAS,CAAC,gBAAgB,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;KACrI;;AAED,aAAS,EAAE,qBAAY;AACnB,cAAM,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;AACrE,YAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;KAChC;;AAED,SAAK,EAAE,iBAAY;AACf,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAC5C,gBAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;AAE3C,gBAAI,KAAK,GAAG,IAAI,CAAC,sBAAsB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC;AAClD,gBAAI,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AAC9B,iBAAK,CAAC,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,EAAE,KAAK,EAAE,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;;AAEjG,gBAAI,MAAM,GAAG,IAAI,CAAC,sBAAsB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;AACpD,gBAAI,YAAY,GAAG,IAAI,EAAE,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;AACnD,wBAAY,CAAC,MAAM,GAAG,IAAI,CAAC;AAC3B,wBAAY,CAAC,SAAS,GAAG,eAAe,CAAC;AACzC,wBAAY,CAAC,OAAO,GAAG,2BAA2B,CAAC;AACnD,kBAAM,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AACpB,kBAAM,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;;AAEtC,gBAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC;SAClC;KACJ;;AAED,qBAAiB,EAAE,2BAAU,KAAK,EAAE;AAChC,YAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB;;AAED,6BAAyB,EAAE,mCAAU,KAAK,EAAE;AACxC,gBAAQ,CAAC,eAAe,EAAE,CAAC;AAC3B,YAAI,IAAI,GAAG,IAAI,CAAC;AAChB,YAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;AAC1B,YAAI,KAAK,GAAG,cAAc,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;AACvC,YAAI,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC;AACtC,YAAI,IAAI,GAAG;AACP,mBAAO,EAAE,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC;AAC1E,oBAAQ,EAAE,kBAAU,QAAQ,EAAE;AAC1B,oBAAI,QAAQ,KAAK,CAAC,EAAE;AAChB,2BAAO,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;iBACtC;aACJ;SACJ,CAAC;AACF,YAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;KACpD;;AAED,sBAAkB,EAAE,8BAAY;AAC5B,gBAAQ,CAAC,eAAe,EAAE,CAAC;AAC3B,YAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;KACxB;;CAEJ,CAAC,CAAC",
  "file": "unknown",
  "sourcesContent": [
    "const exchangePoints = [1, 6, 38, 98, 588, 1688];\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        goldLabel: cc.Label,\r\n        ownLabel: cc.Label,\r\n        rateLabel: cc.Label,\r\n        itemContent: cc.Node,\r\n        itemPrefab: cc.Prefab,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n        this._uiCtrl = this.getComponent('ui_ctrl');\r\n        this._exchangeRate = Global.accountModule.exchangeRate;\r\n        this._ownPoint = Global.accountModule.scoreNum;\r\n        \r\n        this.rateLabel.string = cc.js.formatStr(GameLang.t('exchange_format'), 1, this._exchangeRate);\r\n        this.ownLabel.string = cc.js.formatStr(GameLang.t('own_point_format'), this._ownPoint);\r\n        this.goldLabel.string = cc.js.formatStr(GameLang.t('own_gold_num_format_2'), Global.accountModule.goldNum);\r\n    \r\n        this._exchangeHandler = Global.gameEventDispatcher.addEventHandler(GameEvent.ON_EXCHANGE_GOLD, this.onExchangeSuccess.bind(this));\r\n    },\r\n\r\n    onDestroy: function () {\r\n        Global.gameEventDispatcher.removeEventHandler(this._exchangeHandler);\r\n        this._exchangeHandler = null;\r\n    },\r\n    \r\n    start: function () {\r\n        for (var i = 0; i < exchangePoints.length; i++) {\r\n            var node = cc.instantiate(this.itemPrefab);\r\n            \r\n            var label = node.getComponentInChildren(cc.Label);\r\n            var point = exchangePoints[i];\r\n            label.string = cc.js.formatStr(GameLang.t('exchange_format'), point, point * this._exchangeRate);\r\n            \r\n            var button = node.getComponentInChildren(cc.Button);\r\n            var eventHandler = new cc.Component.EventHandler();\r\n            eventHandler.target = this;\r\n            eventHandler.component = \"exchange_coin\";\r\n            eventHandler.handler = \"onItemExchangeButtonClick\";\r\n            button.node.tag = i;\r\n            button.clickEvents.push(eventHandler);\r\n            \r\n            node.parent = this.itemContent;\r\n        }  \r\n    },\r\n    \r\n    onExchangeSuccess: function (event) {\r\n        this._uiCtrl.close();\r\n    },\r\n\r\n    onItemExchangeButtonClick: function (event) {\r\n        GameUtil.playButtonSound();\r\n        var self = this;\r\n        var target = event.target;\r\n        var point = exchangePoints[target.tag];\r\n        var coin = point * this._exchangeRate;\r\n        var data = {\r\n            message: cc.js.formatStr(GameLang.t('confirm_exchange_coin'), point, coin),\r\n            callback: function (buttonId) {\r\n                if (buttonId === 0) {\r\n                    GameRpc.Clt2Srv.exchangeGold(coin);\r\n                }\r\n            }\r\n        };\r\n        this._uiCtrl.manager.openUI('message_box', data);\r\n    },\r\n    \r\n    onCloseButtonClick: function () {\r\n        GameUtil.playButtonSound();\r\n        this._uiCtrl.close();\r\n    }\r\n\r\n});\r\n"
  ]
}